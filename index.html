<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Kings</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #2f2f2f;
  color: #fff;
}

.screen { display: none; padding: 20px; }
.active { display: block; }

h2, h3 { margin-top: 10px; }

button {
  padding: 14px;
  font-size: 18px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.primary {
  background: #ffcc00;
  color: #000;
  width: 100%;
  margin-top: 15px;
}

.card {
  background: #444;
  border-radius: 12px;
  padding: 10px;
  margin-bottom: 15px;
}

.card img {
  width: 100%;
  border-radius: 10px;
}

.flex {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.qty button {
  width: 45px;
  height: 45px;
  font-size: 22px;
}

.addons {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}

.addon {
  background: #555;
  border-radius: 10px;
  padding: 10px;
  text-align: center;
}

.addon img {
  width: 100%;
  height: 100px;
  object-fit: cover;
  border-radius: 8px;
}

.addon button {
  margin-top: 5px;
  width: 100%;
}
</style>
</head>

<body>

<!-- SPLASH -->
<div id="splash" class="screen active" style="text-align:center;">
  <img src="https://i.postimg.cc/Vkvm5SrB/The-Kings-Logo.png" width="220"><br><br>
  <p>Carregando...</p>
</div>

<!-- NOME -->
<div id="nameScreen" class="screen">
  <h2>Qual é o seu nome?</h2>
  <input id="clientName" placeholder="Digite seu nome"
    style="width:100%;padding:15px;font-size:18px;border-radius:8px;border:none;">
  <button class="primary" onclick="saveName()">Continuar</button>
</div>

<!-- CARDÁPIO -->
<div id="menuScreen" class="screen">
  <h2>Escolha seu Açaí</h2>
  <div id="products"></div>
</div>

<!-- PRODUTO -->
<div id="productScreen" class="screen">
  <h2 id="productName"></h2>

  <div class="flex qty">
    <button onclick="changeQty(-1)">−</button>
    <strong id="qty">1</strong>
    <button onclick="changeQty(1)">+</button>
  </div>

  <h3>Adicionais Gratuitos (3)</h3>
  <p id="freeCount">0 / 3</p>
  <div class="addons" id="freeAddons"></div>

  <h3>Adicionais Pagos</h3>
  <div class="addons" id="paidAddons"></div>

  <h2>Total: R$ <span id="total">0.00</span></h2>
  <button class="primary" onclick="goPayment()">Ir para pagamento</button>
</div>

<!-- PAGAMENTO -->
<div id="paymentScreen" class="screen">
  <h2>Total: R$ <span id="finalTotal"></span></h2>
  <button class="primary" onclick="payPix()">Pix</button>
  <button class="primary" onclick="finish()">Dinheiro</button>
  <button class="primary" onclick="finish()">Cartão</button>
</div>

<!-- PIX -->
<div id="pixScreen" class="screen">
  <h2>Pix - R$ <span id="pixValue"></span></h2>
  <img src="https://i.postimg.cc/xCt0pLWD/QR-CODE.jpg" width="220"><br><br>
  <strong>gl_oficial@jim.com</strong>
  <button class="primary" onclick="finish()">Já paguei</button>
</div>

<!-- FINAL -->
<div id="finalScreen" class="screen" style="text-align:center;">
  <h2 id="thanks"></h2>
  <p>Pedido enviado.<br>Aguarde até ser chamado.</p>
  <button class="primary" onclick="resetAll()">Fazer novo pedido</button>
</div>

<script>
/* ================== DADOS ================== */

const products = [
  { name:"Barca de Açaí Média", price:35, image:"LINK_DA_IMAGEM_AQUI" },
  { name:"Copo 300ml", price:13, image:"LINK_DA_IMAGEM_AQUI" },
  { name:"Copo 550ml", price:16, image:"LINK_DA_IMAGEM_AQUI" },
  { name:"Copo 700ml", price:21, image:"LINK_DA_IMAGEM_AQUI" }
];

const freeAddons = [
  {name:"Confete",image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Leite em Pó",image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Chocobol",image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Granola",image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Marshmallow",image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Banana",image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Morango",image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Uva",image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Abacaxi",image:"LINK_DA_IMAGEM_AQUI"}
];

const paidAddons = [
  {name:"Nutella",price:7,image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Sorvete",price:3,image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Kit Kat",price:5,image:"LINK_DA_IMAGEM_AQUI"},
  {name:"Ovomaltine",price:3,image:"LINK_DA_IMAGEM_AQUI"}
];

/* ================== ESTADO ================== */

let client="", product=null, qty=1, freeUsed=0, paidTotal=0;

/* ================== FLUXO ================== */

setTimeout(()=>show("nameScreen"),2000);

function show(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function saveName(){
  client=clientName.value.trim();
  if(!client) return alert("Digite seu nome");
  loadProducts();
  show("menuScreen");
}

function loadProducts(){
  productsDiv=document.getElementById("products");
  productsDiv.innerHTML="";
  products.forEach(p=>{
    productsDiv.innerHTML+=`
      <div class="card">
        <img src="${p.image}">
        <h3>${p.name}</h3>
        <p>R$ ${p.price.toFixed(2)}</p>
        <button onclick='selectProduct(${JSON.stringify(p)})'>Selecionar</button>
      </div>`;
  });
}

function selectProduct(p){
  product=p; qty=1; freeUsed=0; paidTotal=0;
  productName.innerText=p.name;
  document.getElementById("qty").innerText=qty;
  loadAddons();
  updateTotal();
  show("productScreen");
}

function changeQty(v){
  if(qty+v<1)return;
  qty+=v;
  document.getElementById("qty").innerText=qty;
  updateTotal();
}

function loadAddons(){
  freeAddonsDiv.innerHTML="";
  paidAddonsDiv.innerHTML="";
  document.getElementById("freeCount").innerText="0 / 3";

  freeAddons.forEach(a=>{
    let el=document.createElement("div");
    el.className="addon";
    el.innerHTML=`<img src="${a.image}"><p>${a.name}</p><button>Adicionar</button>`;
    el.querySelector("button").onclick=()=>{
      if(freeUsed>=3)return;
      freeUsed++;
      el.querySelector("button").disabled=true;
      document.getElementById("freeCount").innerText=freeUsed+" / 3";
    };
    freeAddonsDiv.appendChild(el);
  });

  paidAddons.forEach(a=>{
    let el=document.createElement("div");
    el.className="addon";
    el.innerHTML=`<img src="${a.image}"><p>${a.name}<br>R$ ${a.price}</p><button>+</button>`;
    el.querySelector("button").onclick=()=>{
      paidTotal+=a.price;
      updateTotal();
    };
    paidAddonsDiv.appendChild(el);
  });
}

function updateTotal(){
  let total=(product.price*qty)+paidTotal;
  document.getElementById("total").innerText=total.toFixed(2);
}

function goPayment(){
  finalTotal.innerText=document.getElementById("total").innerText;
  show("paymentScreen");
}

function payPix(){
  pixValue.innerText=document.getElementById("total").innerText;
  show("pixScreen");
}

function finish(){
  thanks.innerText=`Obrigado, ${client}!`;
  show("finalScreen");
  setTimeout(()=>window.print(),500);
}

function resetAll(){
  location.reload();
}
</script>

</body>
</html>
